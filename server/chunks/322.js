exports.id=322,exports.ids=[322],exports.modules={1576:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>o,ZB:()=>n,uy:()=>a});var s=r(9317),a=function(e){return e.Rating="Rating",e.Price="Price",e}({});let i=(0,s.Z0)({name:"sort",initialState:{sort:"Rating"},reducers:{setSortAC:(e,t)=>{e.sort=t.payload.sort}}}),{setSortAC:n}=i.actions,o=i.reducer},2694:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(60687),a=r(69662),i=r.n(a),n=r(54086);let o=({children:e,mode:t="primary",className:r,...a})=>(0,s.jsx)(n.P.button,{className:i()(r,"box-border px-3 py-2 cursor-pointer text-center rounded-sm text-sm transition duration-300",{"bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] active:bg-[var(--primary-active)]":"primary"===t,"bg-transparent text-[var(--black)] border border-gray-300 hover:bg-gray-200 active:bg-gray-300":"ghost"===t}),...a,whileHover:{scale:1.05},children:e})},12095:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var s=function(e){return e[e.Courses=0]="Courses",e[e.Services=1]="Services",e[e.Books=2]="Books",e[e.Products=3]="Products",e}({})},28821:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var s=r(37413),a=r(66868),i=r.n(a),n=r(65154),o=r.n(n);r(82704);var l=r(45897);let d={title:"Top app",description:"Generated by create next app"};function c({children:e}){return(0,s.jsx)("div",{className:`${i().variable} ${o().variable} antialiased`,children:(0,s.jsx)(l.default,{children:e})})}},29471:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(37413);let a=()=>(0,s.jsxs)("div",{className:"flex h-screen flex-col items-center justify-center",children:[(0,s.jsx)("h1",{className:"text-6xl font-bold",children:"404"}),(0,s.jsx)("p",{className:"mt-4 text-gray-500",children:"Page not found"})]})},33151:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/aceruser/Udemy/top-app/components/Providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/aceruser/Udemy/top-app/components/Providers.tsx","default")},39544:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,86346,23)),Promise.resolve().then(r.t.bind(r,27924,23)),Promise.resolve().then(r.t.bind(r,35656,23)),Promise.resolve().then(r.t.bind(r,40099,23)),Promise.resolve().then(r.t.bind(r,38243,23)),Promise.resolve().then(r.t.bind(r,28827,23)),Promise.resolve().then(r.t.bind(r,62763,23)),Promise.resolve().then(r.t.bind(r,97173,23))},40754:(e,t,r)=>{"use strict";r.d(t,{G:()=>i,j:()=>a});var s=r(54864);let a=()=>(0,s.wA)(),i=s.d4},45897:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/aceruser/Udemy/top-app/app/(site)/components/MainLayout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/aceruser/Udemy/top-app/app/(site)/components/MainLayout.tsx","default")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},49677:(e,t,r)=>{"use strict";r.d(t,{B3:()=>c,oA:()=>d,zw:()=>m});var s=r(60687),a=r(12095),i=r(60568),n=r(42588),o=r(13586),l=r(78495);let d=[{route:"courses",name:"Курсы",icon:(0,s.jsx)(i.A,{className:"size-6"}),id:a.s.Courses},{route:"servises",name:"Сервисы",icon:(0,s.jsx)(n.A,{className:"size-6"}),id:a.s.Services},{route:"books",name:"Книги",icon:(0,s.jsx)(o.A,{className:"size-6"}),id:a.s.Books},{route:"products",name:"Продукты",icon:(0,s.jsx)(l.A,{className:"size-6"}),id:a.s.Products}],c=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ").concat(" ₽"),m=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]},55224:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,16444,23)),Promise.resolve().then(r.t.bind(r,16042,23)),Promise.resolve().then(r.t.bind(r,88170,23)),Promise.resolve().then(r.t.bind(r,49477,23)),Promise.resolve().then(r.t.bind(r,29345,23)),Promise.resolve().then(r.t.bind(r,12089,23)),Promise.resolve().then(r.t.bind(r,46577,23)),Promise.resolve().then(r.t.bind(r,31307,23))},57812:(e,t,r)=>{"use strict";r.d(t,{default:()=>T});var s=r(60687),a=r(43210),i=r(69662),n=r.n(i);let o={src:"/_next/static/media/logo.b2b48782.svg",height:43,width:159,blurWidth:0,blurHeight:0};var l=r(30474),d=r(719),c=r(43360),m=r(88410);let u={up:d.A,close:c.A,menu:m.A},h=({icon:e,onClick:t,mode:r="primary",className:a,...i})=>{let o=u[e];return(0,s.jsx)("button",{onClick:t,className:n()(a,"box-border px-3 py-2 cursor-pointer text-center rounded-xl text-sm transition duration-300",{"bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] active:bg-[var(--primary-active)]":"primary"===r,"bg-white text-[var(--black)] border border-white hover:bg-gray-100 active:bg-gray-200":"white"===r}),...i,children:(0,s.jsx)(o,{className:n()("size-7",{"text-white":"primary"===r,"text-[var(--black)]":"white"===r})})})};var p=r(34911),v=r(54086),x=r(91144);async function f(e){return(await fetch(x.n.topPage.find,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstCategory:e}),next:{revalidate:10}})).json()}var b=r(40754),y=r(76973),g=r(85814),j=r.n(g),N=r(16189),w=r(49677);let P=()=>{let{menu:e,firstCategory:t}=(0,b.G)(e=>e.menu),r=(0,b.j)(),i=(0,N.usePathname)(),o=async()=>{let e=await f(0);r((0,y.QR)({menu:e}))},l=t=>{let s=e.map(e=>({...e,isOpened:e._id.secondCategory===t?!e.isOpened:e.isOpened}));r((0,y.QR)({menu:s}))};(0,a.useEffect)(()=>{o()},[]);let d={visible:{marginBottom:20,transition:{when:"beforeChildren",staggerChildren:.1}},hidden:{marginBottom:0}},c={visible:{opacity:1,height:"auto"},hidden:{opacity:0,height:0}},m=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(t))},u=t=>(0,s.jsx)("div",{className:"ml-3 mt-4 pl-8 border-l border-l-gray-300",children:e.map(e=>{let r=e.pages.some(e=>e.alias===i?.split("/")[2]),a={...e,isOpened:r||e.isOpened};return(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("div",{tabIndex:0,onKeyDown:t=>m(t,e._id.secondCategory),className:"mb-2 cursor-pointer uppercase text-[var(--gray-dark)] text-xs font-light",onClick:()=>l(e._id.secondCategory),children:e._id.secondCategory}),(0,s.jsx)(v.P.div,{className:n()("block mb-2 text-[var(--gray-dark)] text-sm font-medium"),layout:!0,variants:d,initial:a.isOpened?"visible":"hidden",animate:a.isOpened?"visible":"hidden",children:h(e.pages,t.route,!!a.isOpened)})]},e._id.secondCategory)})}),h=(e,t,r)=>(0,s.jsx)("div",{className:"",children:e.map(e=>(0,s.jsx)(v.P.div,{variants:c,children:(0,s.jsx)(j(),{href:`/${t}/${e.alias}`,className:n()("block hover:text-[var(--primary)] transition duration-300",{"text-[var(--primary)]":`/${t}/${e.alias}`===i}),tabIndex:r?0:-1,children:e.category})},e._id))});return(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(s.Fragment,{children:w.oA.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)(j(),{href:`/${e.route}`,className:n()("inline-flex items-center gap-3 font-medium text-lg hover:text-[var(--primary)] transition duration-300",{"text-[var(--primary)]":e.id===t}),children:[e.icon,e.name]}),e.id===t&&u(e)]},e.id))})})};var C=r(67590),k=r(88316),A=r(2694);let E=({className:e,...t})=>{let[r,i]=(0,a.useState)(""),o=(0,N.useRouter)(),l=()=>{o.push(`/search?q=${r}`)};return(0,s.jsxs)("div",{...t,className:n()("relative w-full",e),children:[(0,s.jsx)(k.A,{className:"w-full pr-11",placeholder:"Поиск...",value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&l()}}),(0,s.jsx)(A.A,{mode:"primary",className:"absolute top-1 right-1 size-8",onClick:l,"aria-label":"Искать по сайту",children:(0,s.jsx)(C.A,{className:"size-5 -mx-1.5 -my-1"})})]})},S=({className:e,...t})=>(0,s.jsxs)("aside",{className:n()(e,"grid content-start gap-5"),...t,children:[(0,s.jsx)(l.default,{src:o,className:"mt-8",alt:""}),(0,s.jsx)(E,{}),(0,s.jsx)(P,{})]}),R=({className:e,onClose:t,isMenuOpen:r,...i})=>{let o=(0,N.usePathname)(),l=(0,a.useRef)(o);return(0,a.useEffect)(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),(0,a.useEffect)(()=>{l.current!==o&&(t(),l.current=o)},[o,t]),(0,a.useEffect)(()=>{r&&(l.current=o)},[r,o]),(0,s.jsxs)(v.P.div,{className:n()("fixed top-0 left-0 bottom-0 right-0 bg-white overflow-hidden z-50",e),...i,variants:{hidden:{opacity:0,height:0,transition:{duration:.4,ease:[.4,0,.2,1]}},visible:{opacity:1,height:"100vh",transition:{duration:.4,ease:[.4,0,.2,1]}}},initial:"hidden",animate:r?"visible":"hidden",exit:"hidden",children:[(0,s.jsx)("div",{className:"overflow-auto h-screen pb-5 scrollbar-md",children:(0,s.jsx)(S,{className:"mx-7.5"})}),(0,s.jsx)(h,{icon:"close",onClick:t,mode:"white",className:"fixed top-8 right-[39px]"})]})},O=({className:e,...t})=>{let[r,i]=(0,a.useState)(!1);return(0,s.jsxs)("header",{className:n()("flex justify-between items-center",e),...t,children:[(0,s.jsx)(l.default,{src:o,className:"mt-7 ml-1.5",alt:""}),(0,s.jsx)(h,{icon:"menu",onClick:()=>i(!0),mode:"white",className:"mt-8"}),(0,s.jsx)(p.N,{children:r&&(0,s.jsx)(R,{isMenuOpen:r,onClose:()=>i(!1)})})]})},$=(0,a.forwardRef)(({children:e,className:t,...r},a)=>(0,s.jsx)("div",{...r,className:t,children:(0,s.jsx)("main",{ref:a,tabIndex:-1,children:e})}));var z=r(94455),B=r(13644);let _=({...e})=>(0,s.jsx)("footer",{...e,children:(0,s.jsxs)("div",{className:"grid md:grid-cols-[1fr_auto] items-center bg-[var(--primary)] text-white px-6 py-7 text-center md:text-left gap-4",children:[(0,s.jsxs)(z.A,{children:["OwlTop \xa9 2020 - ",(0,B.GP)(new Date,"yyyy")," Все права защищены"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-[1fr_auto]",children:[(0,s.jsx)(j(),{href:"/terms",className:"text-sm hover:text-gray-300 transition duration-300",children:"Пользовательское соглашение"}),(0,s.jsx)(j(),{href:"/privacy",className:"text-sm hover:text-gray-300 transition duration-300",children:"Политика конфиденциальности"})]})]})}),D=()=>{let[e,t]=(0,a.useState)(0),r=()=>{t(0)};return(0,a.useEffect)(()=>(window.addEventListener("scroll",r,{passive:!0}),()=>{window.removeEventListener("scroll",r)}),[]),e};var I=r(11711);let M=()=>{let e=(0,I.s)(),t=D();(0,a.useEffect)(()=>{t>300?e.start({opacity:t/document.body.scrollHeight,pointerEvents:"auto"}):e.start({opacity:0,pointerEvents:"none"})},[t,e]);let r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(0,s.jsx)(v.P.div,{className:"size-10 rounded-xl bg-[var(--primary)] flex items-center justify-center  fixed bottom-10 right-10 cursor-pointer hover:bg-[var(--primary-hover)] active:bg-[var(--primary-active)]  border-2 border-white transition duration-300",onClick:r,animate:e,initial:{opacity:0,pointerEvents:"none"},children:(0,s.jsx)(h,{icon:"up",onClick:r})})},T=({children:e})=>{let[t,r]=(0,a.useState)(!1),i=(0,a.useRef)(null);return(0,s.jsxs)("div",{className:"wrapper",children:[(0,s.jsx)("a",{href:"#",tabIndex:0,className:n()("block fixed left-25 top-0 overflow-hidden h-0 bg-[var(--primary)] text-white",{"h-auto":t}),onFocus:()=>r(!0),onBlur:()=>r(!1),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),i.current?.focus()),r(!1)},children:"Сразу к содержанию"}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(O,{className:"header"})}),(0,s.jsx)(S,{className:"sidebar"}),(0,s.jsx)($,{className:"main",ref:i,children:e}),(0,s.jsx)(_,{className:"footer"}),(0,s.jsx)(M,{})]})}},58014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>d});var s=r(37413),a=r(56389),i=r.n(a),n=r(51189),o=r.n(n);r(82704);var l=r(33151);let d={title:"Top app",description:"Generated by create next app"};function c({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,s.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap",rel:"stylesheet"})]}),(0,s.jsx)("body",{className:`${i().variable} ${o().variable} antialiased`,children:(0,s.jsx)("main",{className:"flex min-h-screen",children:(0,s.jsx)(l.default,{children:(0,s.jsx)("div",{className:"flex-1",children:e})})})})]})}},71073:(e,t,r)=>{"use strict";r.d(t,{default:()=>d});var s=r(60687),a=r(9317),i=r(76973),n=r(1576);let o=(0,a.U1)({reducer:{menu:i.Ay,sort:n.Ay}});var l=r(54864);let d=({children:e})=>(0,s.jsx)(l.Kq,{store:o,children:e})},72453:(e,t,r)=>{Promise.resolve().then(r.bind(r,71073))},75092:(e,t,r)=>{Promise.resolve().then(r.bind(r,45897))},76973:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,QR:()=>o});var s=r(12095),a=r(9317);let i={menu:[],firstCategory:s.s.Courses},n=(0,a.Z0)({name:"menu",initialState:i,reducers:{setMenuAC:(e,t)=>{e.menu=t.payload.menu},removeMenuAC:e=>{e.menu=[]}}}),{setMenuAC:o,removeMenuAC:l}=n.actions,d=n.reducer},77300:(e,t,r)=>{Promise.resolve().then(r.bind(r,57812))},78335:()=>{},78533:(e,t,r)=>{Promise.resolve().then(r.bind(r,33151))},82704:()=>{},88316:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(60687),a=r(43210),i=r(69662),n=r.n(i);let o=(0,a.forwardRef)(({error:e,className:t,...r},a)=>(0,s.jsxs)("div",{className:n()(t,"relative"),children:[(0,s.jsx)("input",{ref:a,...r,className:n()("px-4 py-2 text-[var(--black)] outline-[var(--primary)] bg-white shadow-xs rounded-sm w-full",{"border border-red-500":!!e})}),(0,s.jsx)("span",{className:"absolute -bottom-5 left-0 text-red-500",children:!!e&&e.message})]}))},91144:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});let s={topPage:{find:"https://courses-top.ru/api/top-page/find",byAlias:"https://courses-top.ru/api/top-page/byAlias/"},product:{find:"https://courses-top.ru/api/product/find"},review:{createDemo:"https://courses-top.ru/api/review/create-demo"}}},94455:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(60687);let a=({children:e,size:t="small",className:r,...a})=>(0,s.jsx)("p",{className:`${{small:"text-sm",medium:"text-base",large:"text-lg"}[t]} ${r}`,...a,children:e})},96487:()=>{}};