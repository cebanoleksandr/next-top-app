(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[750],{2230:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});let s={topPage:{find:"https://courses-top.ru/api/top-page/find",byAlias:"https://courses-top.ru/api/top-page/byAlias/"},product:{find:"https://courses-top.ru/api/product/find"},review:{createDemo:"https://courses-top.ru/api/review/create-demo"}}},3292:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155),a=r(2115),i=r(9300),n=r.n(i);let o=(0,a.forwardRef)((e,t)=>{let{error:r,className:a,...i}=e;return(0,s.jsxs)("div",{className:n()(a,"relative"),children:[(0,s.jsx)("input",{ref:t,...i,className:n()("px-4 py-2 text-[var(--black)] outline-[var(--primary)] bg-white shadow-xs rounded-sm w-full",{"border border-red-500":!!r})}),(0,s.jsx)("span",{className:"absolute -bottom-5 left-0 text-red-500",children:!!r&&r.message})]})})},4992:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(5155),a=r(9300),i=r.n(a),n=r(465);let o=e=>{let{children:t,mode:r="primary",className:a,...o}=e;return(0,s.jsx)(n.P.button,{className:i()(a,"box-border px-3 py-2 cursor-pointer text-center rounded-sm text-sm transition duration-300",{"bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] active:bg-[var(--primary-active)]":"primary"===r,"bg-transparent text-[var(--black)] border border-gray-300 hover:bg-gray-200 active:bg-gray-300":"ghost"===r}),...o,whileHover:{scale:1.05},children:t})}},6376:(e,t,r)=>{"use strict";r.d(t,{G:()=>i,j:()=>a});var s=r(4540);let a=()=>(0,s.wA)(),i=s.d4},6377:(e,t,r)=>{"use strict";r.d(t,{s:()=>s});var s=function(e){return e[e.Courses=0]="Courses",e[e.Services=1]="Services",e[e.Books=2]="Books",e[e.Products=3]="Products",e}({})},6851:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,QR:()=>o});var s=r(6377),a=r(1990);let i={menu:[],firstCategory:s.s.Courses},n=(0,a.Z0)({name:"menu",initialState:i,reducers:{setMenuAC:(e,t)=>{e.menu=t.payload.menu},removeMenuAC:e=>{e.menu=[]}}}),{setMenuAC:o,removeMenuAC:l}=n.actions,c=n.reducer},8684:(e,t,r)=>{Promise.resolve().then(r.bind(r,8885)),Promise.resolve().then(r.t.bind(r,529,23)),Promise.resolve().then(r.t.bind(r,5755,23))},8885:(e,t,r)=>{"use strict";r.d(t,{default:()=>H});var s=r(5155),a=r(2115),i=r(9300),n=r.n(i);let o={src:"/_next/static/media/logo.b2b48782.svg",height:43,width:159,blurWidth:0,blurHeight:0};var l=r(6766),c=r(9279),d=r(2276),m=r(2158);let u={up:c.A,close:d.A,menu:m.A},h=e=>{let{icon:t,onClick:r,mode:a="primary",className:i,...o}=e,l=u[t];return(0,s.jsx)("button",{onClick:r,className:n()(i,"box-border px-3 py-2 cursor-pointer text-center rounded-xl text-sm transition duration-300",{"bg-[var(--primary)] text-white hover:bg-[var(--primary-hover)] active:bg-[var(--primary-active)]":"primary"===a,"bg-white text-[var(--black)] border border-white hover:bg-gray-100 active:bg-gray-200":"white"===a}),...o,children:(0,s.jsx)(l,{className:n()("size-7",{"text-white":"primary"===a,"text-[var(--black)]":"white"===a})})})};var v=r(9114),p=r(465),x=r(2230);async function b(e){return(await fetch(x.n.topPage.find,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstCategory:e}),next:{revalidate:10}})).json()}var y=r(6376),g=r(6851),f=r(6874),j=r.n(f),w=r(5695),N=r(9089);let k=()=>{let{menu:e,firstCategory:t}=(0,y.G)(e=>e.menu),r=(0,y.j)(),i=(0,w.usePathname)(),o=async()=>{let e=await b(0);r((0,g.QR)({menu:e}))},l=t=>{let s=e.map(e=>({...e,isOpened:e._id.secondCategory===t?!e.isOpened:e.isOpened}));r((0,g.QR)({menu:s}))};(0,a.useEffect)(()=>{o()},[]);let c={visible:{marginBottom:20,transition:{when:"beforeChildren",staggerChildren:.1}},hidden:{marginBottom:0}},d={visible:{opacity:1,height:"auto"},hidden:{opacity:0,height:0}},m=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(t))},u=t=>(0,s.jsx)("div",{className:"ml-3 mt-4 pl-8 border-l border-l-gray-300",children:e.map(e=>{let r=e.pages.some(e=>e.alias===(null==i?void 0:i.split("/")[2])),a={...e,isOpened:r||e.isOpened};return(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("div",{tabIndex:0,onKeyDown:t=>m(t,e._id.secondCategory),className:"mb-2 cursor-pointer uppercase text-[var(--gray-dark)] text-xs font-light",onClick:()=>l(e._id.secondCategory),children:e._id.secondCategory}),(0,s.jsx)(p.P.div,{className:n()("block mb-2 text-[var(--gray-dark)] text-sm font-medium"),layout:!0,variants:c,initial:a.isOpened?"visible":"hidden",animate:a.isOpened?"visible":"hidden",children:h(e.pages,t.route,!!a.isOpened)})]},e._id.secondCategory)})}),h=(e,t,r)=>(0,s.jsx)("div",{className:"",children:e.map(e=>(0,s.jsx)(p.P.div,{variants:d,children:(0,s.jsx)(j(),{href:"/".concat(t,"/").concat(e.alias),className:n()("block hover:text-[var(--primary)] transition duration-300",{"text-[var(--primary)]":"/".concat(t,"/").concat(e.alias)===i}),tabIndex:r?0:-1,children:e.category})},e._id))});return(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(s.Fragment,{children:N.oA.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsxs)(j(),{href:"/".concat(e.route),className:n()("inline-flex items-center gap-3 font-medium text-lg hover:text-[var(--primary)] transition duration-300",{"text-[var(--primary)]":e.id===t}),children:[e.icon,e.name]}),e.id===t&&u(e)]},e.id))})})};var C=r(3406),A=r(3292),E=r(4992);let P=e=>{let{className:t,...r}=e,[i,o]=(0,a.useState)(""),l=(0,w.useRouter)(),c=()=>{l.push("/search?q=".concat(i))};return(0,s.jsxs)("div",{...r,className:n()("relative w-full",t),children:[(0,s.jsx)(A.A,{className:"w-full pr-11",placeholder:"Поиск...",value:i,onChange:e=>o(e.target.value),onKeyDown:e=>{"Enter"===e.key&&c()}}),(0,s.jsx)(E.A,{mode:"primary",className:"absolute top-1 right-1 size-8",onClick:c,"aria-label":"Искать по сайту",children:(0,s.jsx)(C.A,{className:"size-5 -mx-1.5 -my-1"})})]})},_=e=>{let{className:t,...r}=e;return(0,s.jsxs)("aside",{className:n()(t,"grid content-start gap-5"),...r,children:[(0,s.jsx)(l.default,{src:o,className:"mt-8",alt:""}),(0,s.jsx)(P,{}),(0,s.jsx)(k,{})]})},O=e=>{let{className:t,onClose:r,isMenuOpen:i,...o}=e,l=(0,w.usePathname)(),c=(0,a.useRef)(l);return(0,a.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),(0,a.useEffect)(()=>{c.current!==l&&(r(),c.current=l)},[l,r]),(0,a.useEffect)(()=>{i&&(c.current=l)},[i,l]),(0,s.jsxs)(p.P.div,{className:n()("fixed top-0 left-0 bottom-0 right-0 bg-white overflow-hidden z-50",t),...o,variants:{hidden:{opacity:0,height:0,transition:{duration:.4,ease:[.4,0,.2,1]}},visible:{opacity:1,height:"100vh",transition:{duration:.4,ease:[.4,0,.2,1]}}},initial:"hidden",animate:i?"visible":"hidden",exit:"hidden",children:[(0,s.jsx)("div",{className:"overflow-auto h-screen pb-5 scrollbar-md",children:(0,s.jsx)(_,{className:"mx-7.5"})}),(0,s.jsx)(h,{icon:"close",onClick:r,mode:"white",className:"fixed top-8 right-[39px]"})]})},z=e=>{let{className:t,...r}=e,[i,c]=(0,a.useState)(!1);return(0,s.jsxs)("header",{className:n()("flex justify-between items-center",t),...r,children:[(0,s.jsx)(l.default,{src:o,className:"mt-7 ml-1.5",alt:""}),(0,s.jsx)(h,{icon:"menu",onClick:()=>c(!0),mode:"white",className:"mt-8"}),(0,s.jsx)(v.N,{children:i&&(0,s.jsx)(O,{isMenuOpen:i,onClose:()=>c(!1)})})]})},S=(0,a.forwardRef)((e,t)=>{let{children:r,className:a,...i}=e;return(0,s.jsx)("div",{...i,className:a,children:(0,s.jsx)("main",{ref:t,tabIndex:-1,children:r})})});var B=r(9193),R=r(5936);let D=e=>{let{...t}=e;return(0,s.jsx)("footer",{...t,children:(0,s.jsxs)("div",{className:"grid md:grid-cols-[1fr_auto] items-center bg-[var(--primary)] text-white px-6 py-7 text-center md:text-left gap-4",children:[(0,s.jsxs)(B.A,{children:["OwlTop \xa9 2020 - ",(0,R.GP)(new Date,"yyyy")," Все права защищены"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-[1fr_auto]",children:[(0,s.jsx)(j(),{href:"/terms",className:"text-sm hover:text-gray-300 transition duration-300",children:"Пользовательское соглашение"}),(0,s.jsx)(j(),{href:"/privacy",className:"text-sm hover:text-gray-300 transition duration-300",children:"Политика конфиденциальности"})]})]})})},I=()=>{let[e,t]=(0,a.useState)(0),r=()=>{t(window.scrollY)};return(0,a.useEffect)(()=>(window.addEventListener("scroll",r,{passive:!0}),()=>{window.removeEventListener("scroll",r)}),[]),e};var T=r(6896);let G=()=>{let e=(0,T.s)(),t=I();(0,a.useEffect)(()=>{t>300?e.start({opacity:t/document.body.scrollHeight,pointerEvents:"auto"}):e.start({opacity:0,pointerEvents:"none"})},[t,e]);let r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(0,s.jsx)(p.P.div,{className:"size-10 rounded-xl bg-[var(--primary)] flex items-center justify-center  fixed bottom-10 right-10 cursor-pointer hover:bg-[var(--primary-hover)] active:bg-[var(--primary-active)]  border-2 border-white transition duration-300",onClick:r,animate:e,initial:{opacity:0,pointerEvents:"none"},children:(0,s.jsx)(h,{icon:"up",onClick:r})})},H=e=>{let{children:t}=e,[r,i]=(0,a.useState)(!1),o=(0,a.useRef)(null);return(0,s.jsxs)("div",{className:"wrapper",children:[(0,s.jsx)("a",{href:"#",tabIndex:0,className:n()("block fixed left-25 top-0 overflow-hidden h-0 bg-[var(--primary)] text-white",{"h-auto":r}),onFocus:()=>i(!0),onBlur:()=>i(!1),onKeyDown:e=>{if("Enter"===e.key||" "===e.key){var t;e.preventDefault(),null==(t=o.current)||t.focus()}i(!1)},children:"Сразу к содержанию"}),(0,s.jsx)("div",{className:"md:hidden",children:(0,s.jsx)(z,{className:"header"})}),(0,s.jsx)(_,{className:"sidebar"}),(0,s.jsx)(S,{className:"main",ref:o,children:t}),(0,s.jsx)(D,{className:"footer"}),(0,s.jsx)(G,{})]})}},9089:(e,t,r)=>{"use strict";r.d(t,{B3:()=>d,oA:()=>c,zw:()=>m});var s=r(5155),a=r(6377),i=r(5832),n=r(164),o=r(2352),l=r(929);let c=[{route:"courses",name:"Курсы",icon:(0,s.jsx)(i.A,{className:"size-6"}),id:a.s.Courses},{route:"servises",name:"Сервисы",icon:(0,s.jsx)(n.A,{className:"size-6"}),id:a.s.Services},{route:"books",name:"Книги",icon:(0,s.jsx)(o.A,{className:"size-6"}),id:a.s.Books},{route:"products",name:"Продукты",icon:(0,s.jsx)(l.A,{className:"size-6"}),id:a.s.Products}],d=e=>e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ").concat(" ₽"),m=(e,t)=>t[e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]},9193:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var s=r(5155);let a=e=>{let{children:t,size:r="small",className:a,...i}=e;return(0,s.jsx)("p",{className:"".concat({small:"text-sm",medium:"text-base",large:"text-lg"}[r]," ").concat(a),...i,children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[823,306,635,785,992,441,684,358],()=>t(8684)),_N_E=e.O()}]);